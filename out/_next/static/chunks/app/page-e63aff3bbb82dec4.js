(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1148:(e,l,a)=>{Promise.resolve().then(a.bind(a,4022))},4022:(e,l,a)=>{"use strict";a.d(l,{default:()=>r});var t=a(5155),s=a(2115);let n=[{value:"mitt-nasta-ar",label:"Mitt n\xe4sta \xe4r"},{value:"nasta-steg",label:"N\xe4sta steg tar du sj\xe4lv"},{value:"min-nasta-utmaning",label:"Min n\xe4sta utmaning"}];function r(){let[e,l]=(0,s.useState)(n[0].value),[a,r]=(0,s.useState)(""),[i,d]=(0,s.useState)(null),[o,u]=(0,s.useState)(!1),[c,b]=(0,s.useState)(null),m=(0,s.useRef)(null),v=async e=>{var l;let a=null===(l=e.target.files)||void 0===l?void 0:l[0];if(a){let e=new FileReader;e.onload=e=>{var l;d(null===(l=e.target)||void 0===l?void 0:l.result)},e.readAsDataURL(a)}},h=async()=>{u(!0);try{var l;let t={template:"sneaky-birds-eat-lazily-1115",data:{"text.text":(null===(l=n.find(l=>l.value===e))||void 0===l?void 0:l.label)||e,"usertext.text":a,"Huvudbild.src":i||void 0}};console.log("Sending request:",t);let s=await fetch("https://api.renderform.io/api/v2/render",{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":"key-R5YWlVj2BFdhYArRlVD8qKFwbyZZOyfRZJ"},body:JSON.stringify(t)}),r=await s.json();if(console.log("Received response:",r),r.msg)throw Error(r.msg);b(r.href),window.open(r.href,"_blank")}catch(e){console.error("Error details:",e),alert("Ett fel uppstod vid generering av bilden. F\xf6rs\xf6k igen.")}finally{u(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"V\xe4lj inledning"}),(0,t.jsx)("select",{value:e,onChange:e=>l(e.target.value),className:"w-full p-2 border rounded",disabled:o,children:n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Din text"}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),className:"w-full p-2 border rounded",placeholder:"Skriv din text h\xe4r...",disabled:o})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"V\xe4lj bild"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:v,ref:m,className:"hidden"}),(0,t.jsx)("button",{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},className:"w-full p-2 border rounded bg-white hover:bg-gray-50",children:i?"Byt bild":"V\xe4lj bild"}),i&&(0,t.jsx)("img",{src:i,alt:"Vald bild",className:"w-full max-h-48 object-cover rounded"})]})]}),(0,t.jsx)("button",{onClick:h,disabled:o||!a.trim()||!i,className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:o?"Genererar...":"Generera bild"}),c&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Din genererade bild:"}),(0,t.jsx)("img",{src:c,alt:"Genererad bild",className:"w-full rounded shadow"})]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[441,517,358],()=>l(1148)),_N_E=e.O()}]);